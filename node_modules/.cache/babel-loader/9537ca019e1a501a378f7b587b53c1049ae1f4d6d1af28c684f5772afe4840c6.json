{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u985ED\\u69FD\\\\Python\\\\StockWeb\\\\webtest\\\\src\\\\pages\\\\Page1\\\\HomeData\\\\components\\\\NewsManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PlusCircle, Edit, Trash2, Save, X } from 'lucide-react';\nimport './NewsManager.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsManager = () => {\n  _s();\n  const [newsData, setNewsData] = useState([]);\n  const [editingItem, setEditingItem] = useState(null);\n  const [responseMessage, setResponseMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [newItem, setNewItem] = useState({\n    title: '',\n    content: '',\n    publishDate: new Date().toISOString().split('T')[0],\n    status: 1,\n    // 1: 發布, 0: 未發布\n    immediatePublish: true // 是否立即發布\n  });\n\n  // 獲取新聞列表\n  const fetchNews = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/get_HomeNews');\n      if (response.data && Array.isArray(response.data.news)) {\n        setNewsData(response.data.news);\n      } else {\n        setResponseMessage('數據格式不正確');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('獲取新聞錯誤:', error);\n      setResponseMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || '無法取得資料');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchNews();\n  }, []);\n\n  // 新增新聞\n  const handleAdd = async () => {\n    try {\n      // 驗證必填欄位\n      if (!newItem.title || !newItem.content) {\n        setResponseMessage('標題和內容為必填項目');\n        return;\n      }\n      let publishDate;\n      if (newItem.immediatePublish) {\n        publishDate = new Date().toISOString();\n      } else {\n        // 確保選擇了日期\n        if (!newItem.publishDate) {\n          setResponseMessage('請選擇發布日期');\n          return;\n        }\n        // 將日期字符串轉換為完整的 ISO 格式\n        publishDate = new Date(newItem.publishDate).toISOString();\n      }\n      const newsData = {\n        title: newItem.title,\n        content: newItem.content,\n        publishDate: publishDate,\n        status: newItem.immediatePublish ? 1 : 0\n      };\n      console.log('準備發送的新聞數據:', newsData); // 調試用\n\n      const response = await axios.post('http://localhost:5000/api/add_news', newsData);\n      if (response.data.success) {\n        fetchNews(); // 重新獲取新聞列表\n        setNewItem({\n          // 重置表單\n          title: '',\n          content: '',\n          publishDate: new Date().toISOString().split('T')[0],\n          status: 1,\n          immediatePublish: true\n        });\n        setResponseMessage('新增成功');\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('新增新聞失敗:', error);\n      setResponseMessage('新增失敗：' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || '未知錯誤'));\n    }\n  };\n  const handleUpdate = async id => {\n    try {\n      // 確保日期格式正確\n      const formattedDate = editingItem.Publish_Date ? new Date(editingItem.Publish_Date).toISOString() : new Date().toISOString();\n      const updateData = {\n        Title: editingItem.Title,\n        Content: editingItem.Content,\n        Publish_Date: formattedDate,\n        Status: editingItem.Status || 1\n      };\n      console.log('發送更新數據:', updateData); // 調試用\n\n      const response = await axios.put(`http://localhost:5000/api/update_news/${id}`, updateData);\n      if (response.data.success) {\n        fetchNews();\n        setEditingItem(null);\n        setResponseMessage('更新成功');\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('更新新聞失敗:', error);\n      setResponseMessage('更新失敗：' + (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || '未知錯誤'));\n    }\n  };\n\n  // 刪除新聞\n  const handleDelete = async id => {\n    if (window.confirm('確定要刪除這則新聞嗎？')) {\n      try {\n        setResponseMessage(''); // 清除之前的消息\n\n        console.log('嘗試刪除新聞 ID:', id); // 調試用\n\n        const response = await axios.delete(`http://localhost:5000/api/delete_news/${id}`);\n        if (response.data.success) {\n          console.log('刪除成功');\n          setResponseMessage('刪除成功');\n          await fetchNews(); // 重新獲取新聞列表\n        } else {\n          throw new Error(response.data.message || '刪除失敗');\n        }\n      } catch (error) {\n        var _error$response4, _error$response4$data;\n        console.error('刪除新聞失敗:', error);\n        setResponseMessage('刪除失敗：' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || '未知錯誤'));\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u8F09\\u5165\\u4E2D...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 25\n  }, this);\n\n  // 將新聞分類\n  const publishedNews = newsData.filter(news => news.Status === 1);\n  const unpublishedNews = newsData.filter(news => news.Status === 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"news-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u6700\\u65B0\\u6D88\\u606F\\u7BA1\\u7406\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u65B0\\u589E\\u6D88\\u606F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u6A19\\u984C\",\n        value: newItem.title,\n        onChange: e => setNewItem({\n          ...newItem,\n          title: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"\\u5167\\u5BB9\",\n        value: newItem.content,\n        onChange: e => setNewItem({\n          ...newItem,\n          content: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"publish-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: newItem.immediatePublish,\n            onChange: e => setNewItem({\n              ...newItem,\n              immediatePublish: e.target.checked,\n              status: e.target.checked ? 1 : 0\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this), \"\\u7ACB\\u5373\\u767C\\u5E03\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), !newItem.immediatePublish && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date-time-picker\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            value: newItem.publishDate,\n            onChange: e => setNewItem({\n              ...newItem,\n              publishDate: e.target.value\n            }),\n            min: new Date().toISOString().slice(0, 16)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAdd,\n        className: \"add-button\",\n        style: {\n          maxWidth: '10%',\n          left: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), \"\\u65B0\\u589E\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), responseMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-message\",\n        children: responseMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-ReleaseOrNot\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u767C\\u5E03\\u4E2D\\u7684\\u65B0\\u805E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-list\",\n          children: publishedNews.map(item => /*#__PURE__*/_jsxDEV(NewsItem, {\n            item: item,\n            onEdit: setEditingItem,\n            onUpdate: handleUpdate,\n            onDelete: handleDelete,\n            editingItem: editingItem,\n            setEditingItem: setEditingItem\n          }, item.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u672A\\u767C\\u5E03\\u7684\\u65B0\\u805E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-list\",\n          children: unpublishedNews.map(item => /*#__PURE__*/_jsxDEV(NewsItem, {\n            item: item,\n            onEdit: setEditingItem,\n            onUpdate: handleUpdate,\n            onDelete: handleDelete,\n            editingItem: editingItem,\n            setEditingItem: setEditingItem\n          }, item.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n};\n\n// 新聞項目組件\n_s(NewsManager, \"K9vj43Pmb2Vd834hr4KamEQgRN0=\");\n_c = NewsManager;\nconst NewsItem = ({\n  item,\n  onEdit,\n  onUpdate,\n  onDelete,\n  editingItem,\n  setEditingItem\n}) => {\n  _s2();\n  const isEditing = (editingItem === null || editingItem === void 0 ? void 0 : editingItem.Id) === item.Id;\n  const [deleting, setDeleting] = useState(false);\n  const handleDateChange = e => {\n    const dateValue = e.target.value;\n    setEditingItem({\n      ...editingItem,\n      Publish_Date: dateValue ? new Date(dateValue).toISOString() : null\n    });\n  };\n  const handleDeleteClick = async id => {\n    setDeleting(true);\n    try {\n      await onDelete(id);\n    } finally {\n      setDeleting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `news-item ${item.Status === 0 ? 'unpublished' : ''} ${deleting ? 'deleting' : ''}`,\n    children: isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editingItem.Title,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Title: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: editingItem.Content,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Content: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"datetime-local\",\n        value: editingItem.Publish_Date ? new Date(editingItem.Publish_Date).toISOString().slice(0, 16) : '',\n        onChange: handleDateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: editingItem.Status,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Status: parseInt(e.target.value)\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 1,\n          children: \"\\u767C\\u5E03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 0,\n          children: \"\\u672A\\u767C\\u5E03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onUpdate(item.Id),\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, this), \"\\u4FDD\\u5B58\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditingItem(null),\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 29\n          }, this), \"\\u53D6\\u6D88\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: item.Title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.Content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"news-date\",\n        children: [\"\\u767C\\u5E03\\u6642\\u9593: \", new Date(item.Publish_Date).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onEdit(item),\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }, this), \"\\u7DE8\\u8F2F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteClick(item.Id),\n          disabled: deleting,\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 29\n          }, this), deleting ? '刪除中...' : '刪除']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 9\n  }, this);\n};\n_s2(NewsItem, \"f0tXCDL9Pnb+NA85nybi4v05dyY=\");\n_c2 = NewsItem;\nexport default NewsManager;\nvar _c, _c2;\n$RefreshReg$(_c, \"NewsManager\");\n$RefreshReg$(_c2, \"NewsItem\");","map":{"version":3,"names":["React","useState","useEffect","PlusCircle","Edit","Trash2","Save","X","axios","jsxDEV","_jsxDEV","NewsManager","_s","newsData","setNewsData","editingItem","setEditingItem","responseMessage","setResponseMessage","loading","setLoading","newItem","setNewItem","title","content","publishDate","Date","toISOString","split","status","immediatePublish","fetchNews","response","get","data","Array","isArray","news","error","_error$response","_error$response$data","console","handleAdd","log","post","success","_error$response2","_error$response2$data","message","handleUpdate","id","formattedDate","Publish_Date","updateData","Title","Content","Status","put","_error$response3","_error$response3$data","handleDelete","window","confirm","delete","Error","_error$response4","_error$response4$data","children","fileName","_jsxFileName","lineNumber","columnNumber","publishedNews","filter","unpublishedNews","className","type","placeholder","value","onChange","e","target","required","checked","min","slice","onClick","style","maxWidth","left","size","map","item","NewsItem","onEdit","onUpdate","onDelete","Id","_c","_s2","isEditing","deleting","setDeleting","handleDateChange","dateValue","handleDeleteClick","parseInt","toLocaleString","disabled","_c2","$RefreshReg$"],"sources":["C:/類D槽/Python/StockWeb/webtest/src/pages/Page1/HomeData/components/NewsManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PlusCircle, Edit, Trash2, Save, X } from 'lucide-react';\r\nimport './NewsManager.css';\r\nimport axios from 'axios';\r\n\r\nconst NewsManager = () => {\r\n    const [newsData, setNewsData] = useState([]);\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [responseMessage, setResponseMessage] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [newItem, setNewItem] = useState({\r\n        title: '',\r\n        content: '',\r\n        publishDate: new Date().toISOString().split('T')[0],\r\n        status: 1,  // 1: 發布, 0: 未發布\r\n        immediatePublish: true  // 是否立即發布\r\n    });\r\n\r\n    // 獲取新聞列表\r\n    const fetchNews = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/api/get_HomeNews');\r\n            if (response.data && Array.isArray(response.data.news)) {\r\n                setNewsData(response.data.news);\r\n            } else {\r\n                setResponseMessage('數據格式不正確');\r\n            }\r\n        } catch (error) {\r\n            console.error('獲取新聞錯誤:', error);\r\n            setResponseMessage(error.response?.data?.error || '無法取得資料');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNews();\r\n    }, []);\r\n\r\n// 新增新聞\r\nconst handleAdd = async () => {\r\n    try {\r\n        // 驗證必填欄位\r\n        if (!newItem.title || !newItem.content) {\r\n            setResponseMessage('標題和內容為必填項目');\r\n            return;\r\n        }\r\n\r\n        let publishDate;\r\n        if (newItem.immediatePublish) {\r\n            publishDate = new Date().toISOString();\r\n        } else {\r\n            // 確保選擇了日期\r\n            if (!newItem.publishDate) {\r\n                setResponseMessage('請選擇發布日期');\r\n                return;\r\n            }\r\n            // 將日期字符串轉換為完整的 ISO 格式\r\n            publishDate = new Date(newItem.publishDate).toISOString();\r\n        }\r\n\r\n        const newsData = {\r\n            title: newItem.title,\r\n            content: newItem.content,\r\n            publishDate: publishDate,\r\n            status: newItem.immediatePublish ? 1 : 0\r\n        };\r\n\r\n        console.log('準備發送的新聞數據:', newsData); // 調試用\r\n\r\n        const response = await axios.post('http://localhost:5000/api/add_news', newsData);\r\n        if (response.data.success) {\r\n            fetchNews();  // 重新獲取新聞列表\r\n            setNewItem({  // 重置表單\r\n                title: '',\r\n                content: '',\r\n                publishDate: new Date().toISOString().split('T')[0],\r\n                status: 1,\r\n                immediatePublish: true\r\n            });\r\n            setResponseMessage('新增成功');\r\n        }\r\n    } catch (error) {\r\n        console.error('新增新聞失敗:', error);\r\n        setResponseMessage('新增失敗：' + (error.response?.data?.message || '未知錯誤'));\r\n    }\r\n};\r\n\r\n    const handleUpdate = async (id) => {\r\n        try {\r\n            // 確保日期格式正確\r\n            const formattedDate = editingItem.Publish_Date \r\n                ? new Date(editingItem.Publish_Date).toISOString()\r\n                : new Date().toISOString();\r\n    \r\n            const updateData = {\r\n                Title: editingItem.Title,\r\n                Content: editingItem.Content,\r\n                Publish_Date: formattedDate,\r\n                Status: editingItem.Status || 1\r\n            };\r\n    \r\n            console.log('發送更新數據:', updateData);  // 調試用\r\n    \r\n            const response = await axios.put(\r\n                `http://localhost:5000/api/update_news/${id}`, \r\n                updateData\r\n            );\r\n    \r\n            if (response.data.success) {\r\n                fetchNews();\r\n                setEditingItem(null);\r\n                setResponseMessage('更新成功');\r\n            }\r\n        } catch (error) {\r\n            console.error('更新新聞失敗:', error);\r\n            setResponseMessage('更新失敗：' + (error.response?.data?.message || '未知錯誤'));\r\n        }\r\n    };\r\n\r\n// 刪除新聞\r\nconst handleDelete = async (id) => {\r\n    if (window.confirm('確定要刪除這則新聞嗎？')) {\r\n        try {\r\n            setResponseMessage(''); // 清除之前的消息\r\n            \r\n            console.log('嘗試刪除新聞 ID:', id); // 調試用\r\n            \r\n            const response = await axios.delete(`http://localhost:5000/api/delete_news/${id}`);\r\n            \r\n            if (response.data.success) {\r\n                console.log('刪除成功');\r\n                setResponseMessage('刪除成功');\r\n                await fetchNews(); // 重新獲取新聞列表\r\n            } else {\r\n                throw new Error(response.data.message || '刪除失敗');\r\n            }\r\n        } catch (error) {\r\n            console.error('刪除新聞失敗:', error);\r\n            setResponseMessage(\r\n                '刪除失敗：' + \r\n                (error.response?.data?.message || error.message || '未知錯誤')\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n    if (loading) return <div>載入中...</div>;\r\n\r\n    // 將新聞分類\r\n    const publishedNews = newsData.filter(news => news.Status === 1);\r\n    const unpublishedNews = newsData.filter(news => news.Status === 0);\r\n\r\n\r\n    return (\r\n        <div className=\"news-manager\">\r\n            <h2>最新消息管理</h2>\r\n            \r\n            {/* 新增表單 */}\r\n            <div className=\"news-form\">\r\n        <h3>新增消息</h3>\r\n        <input\r\n            type=\"text\"\r\n            placeholder=\"標題\"\r\n            value={newItem.title}\r\n            onChange={(e) => setNewItem({...newItem, title: e.target.value})}\r\n            required\r\n        />\r\n        <textarea\r\n            placeholder=\"內容\"\r\n            value={newItem.content}\r\n            onChange={(e) => setNewItem({...newItem, content: e.target.value})}\r\n            required\r\n        />\r\n        <div className=\"publish-options\">\r\n            <label>\r\n                <input\r\n                    type=\"checkbox\"\r\n                    checked={newItem.immediatePublish}\r\n                    onChange={(e) => setNewItem({\r\n                        ...newItem,\r\n                        immediatePublish: e.target.checked,\r\n                        status: e.target.checked ? 1 : 0\r\n                    })}\r\n                />\r\n                立即發布\r\n            </label>\r\n            {!newItem.immediatePublish && (\r\n                <div className=\"date-time-picker\">\r\n                    <input\r\n                        type=\"datetime-local\"\r\n                        value={newItem.publishDate}\r\n                        onChange={(e) => setNewItem({\r\n                            ...newItem,\r\n                            publishDate: e.target.value\r\n                        })}\r\n                        min={new Date().toISOString().slice(0, 16)}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n        <button onClick={handleAdd} className=\"add-button\" style={{maxWidth: '10%',left:'10px'}}>\r\n            <PlusCircle size={16} />\r\n            新增\r\n        </button>\r\n    </div>\r\n\r\n    {responseMessage && (\r\n                <div className='response-container'>\r\n                    <div className=\"response-message\">\r\n                        {responseMessage}\r\n                    </div>\r\n                </div>\r\n    )}\r\n\r\n\r\n            <div className='news-ReleaseOrNot'>\r\n                {/* 發布中的新聞 */}\r\n                <div className=\"news-section\">\r\n                    <h3>發布中的新聞</h3>\r\n                    <div className=\"news-list\">\r\n                        {publishedNews.map(item => (\r\n                            <NewsItem\r\n                                key={item.Id}\r\n                                item={item}\r\n                                onEdit={setEditingItem}\r\n                                onUpdate={handleUpdate}\r\n                                onDelete={handleDelete}\r\n                                editingItem={editingItem}\r\n                                setEditingItem={setEditingItem}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 未發布的新聞 */}\r\n                <div className=\"news-section\">\r\n                    <h3>未發布的新聞</h3>\r\n                    <div className=\"news-list\">\r\n                        {unpublishedNews.map(item => (\r\n                            <NewsItem\r\n                                key={item.Id}\r\n                                item={item}\r\n                                onEdit={setEditingItem}\r\n                                onUpdate={handleUpdate}\r\n                                onDelete={handleDelete}\r\n                                editingItem={editingItem}\r\n                                setEditingItem={setEditingItem}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n// 新聞項目組件\r\nconst NewsItem = ({ item, onEdit, onUpdate, onDelete, editingItem, setEditingItem }) => {\r\n    const isEditing = editingItem?.Id === item.Id;\r\n    const [deleting, setDeleting] = useState(false);\r\n\r\n    const handleDateChange = (e) => {\r\n        const dateValue = e.target.value;\r\n        setEditingItem({\r\n            ...editingItem,\r\n            Publish_Date: dateValue ? new Date(dateValue).toISOString() : null\r\n        });\r\n    };\r\n    const handleDeleteClick = async (id) => {\r\n        setDeleting(true);\r\n        try {\r\n            await onDelete(id);\r\n        } finally {\r\n            setDeleting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`news-item ${item.Status === 0 ? 'unpublished' : ''} ${deleting ? 'deleting' : ''}`}>\r\n            {isEditing ? (\r\n                <div className=\"news-edit-form\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={editingItem.Title}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Title: e.target.value\r\n                        })}\r\n                    />\r\n                    <textarea\r\n                        value={editingItem.Content}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Content: e.target.value\r\n                        })}\r\n                    />\r\n                    <input\r\n                        type=\"datetime-local\"\r\n                        value={editingItem.Publish_Date \r\n                            ? new Date(editingItem.Publish_Date).toISOString().slice(0, 16)\r\n                            : ''\r\n                        }\r\n                        onChange={handleDateChange}\r\n                    />\r\n                    <select\r\n                        value={editingItem.Status}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Status: parseInt(e.target.value)\r\n                        })}\r\n                    >\r\n                        <option value={1}>發布</option>\r\n                        <option value={0}>未發布</option>\r\n                    </select>\r\n                    <div className=\"button-group\">\r\n                        <button onClick={() => onUpdate(item.Id)}>\r\n                            <Save size={16} />\r\n                            保存\r\n                        </button>\r\n                        <button onClick={() => setEditingItem(null)}>\r\n                            <X size={16} />\r\n                            取消\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"news-content\">\r\n                    <h4>{item.Title}</h4>\r\n                    <p>{item.Content}</p>\r\n                    <p className=\"news-date\">\r\n                        發布時間: {new Date(item.Publish_Date).toLocaleString()}\r\n                    </p>\r\n                    <div className=\"button-group\">\r\n                        <button onClick={() => onEdit(item)}>\r\n                            <Edit size={16} />\r\n                            編輯\r\n                        </button>\r\n                        <button \r\n                            onClick={() => handleDeleteClick(item.Id)}\r\n                            disabled={deleting}\r\n                        >\r\n                            <Trash2 size={16} />\r\n                            {deleting ? '刪除中...' : '刪除'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}