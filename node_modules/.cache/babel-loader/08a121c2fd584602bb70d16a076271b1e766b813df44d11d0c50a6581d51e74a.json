{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u985ED\\u69FD\\\\Python\\\\StockWeb\\\\webtest\\\\src\\\\pages\\\\Page1\\\\HomeData\\\\components\\\\NewsManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PlusCircle, Edit, Trash2, Save, X, ChevronDown } from 'lucide-react';\nimport './NewsManager.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsManager = () => {\n  _s();\n  const [isFormExpanded, setIsFormExpanded] = useState(false);\n  const [newsData, setNewsData] = useState([]);\n  const [editingItem, setEditingItem] = useState(null);\n  const [responseMessage, setResponseMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [newItem, setNewItem] = useState({\n    title: '',\n    content: '',\n    publishDate: new Date().toISOString().split('T')[0],\n    status: 1,\n    // 1: 發布, 0: 未發布\n    immediatePublish: true // 是否立即發布\n  });\n\n  // 獲取新聞列表\n  const fetchNews = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/get_HomeNews');\n      if (response.data && Array.isArray(response.data.news)) {\n        setNewsData(response.data.news);\n      } else {\n        setResponseMessage('數據格式不正確');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('獲取新聞錯誤:', error);\n      setResponseMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || '無法取得資料');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchNews();\n  }, []);\n\n  // 新增新聞\n  const handleAdd = async () => {\n    try {\n      // 驗證必填欄位\n      if (!newItem.title || !newItem.content) {\n        setResponseMessage('標題和內容為必填項目');\n        return;\n      }\n      let publishDate;\n      if (newItem.immediatePublish) {\n        publishDate = new Date().toISOString();\n      } else {\n        // 確保選擇了日期\n        if (!newItem.publishDate) {\n          setResponseMessage('請選擇發布日期');\n          return;\n        }\n        // 將日期字符串轉換為完整的 ISO 格式\n        publishDate = new Date(newItem.publishDate).toISOString();\n      }\n      const newsData = {\n        title: newItem.title,\n        content: newItem.content,\n        publishDate: publishDate,\n        status: newItem.immediatePublish ? 1 : 0\n      };\n      console.log('準備發送的新聞數據:', newsData); // 調試用\n\n      const response = await axios.post('http://localhost:5000/api/add_news', newsData);\n      if (response.data.success) {\n        fetchNews(); // 重新獲取新聞列表\n        setNewItem({\n          // 重置表單\n          title: '',\n          content: '',\n          publishDate: new Date().toISOString().split('T')[0],\n          status: 1,\n          immediatePublish: true\n        });\n        setResponseMessage('新增成功');\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('新增新聞失敗:', error);\n      setResponseMessage('新增失敗：' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || '未知錯誤'));\n    }\n  };\n  const handleUpdate = async id => {\n    try {\n      // 確保日期格式正確\n      const formattedDate = editingItem.Publish_Date ? new Date(editingItem.Publish_Date).toISOString() : new Date().toISOString();\n      const updateData = {\n        Title: editingItem.Title,\n        Content: editingItem.Content,\n        Publish_Date: formattedDate,\n        Status: editingItem.Status || 1\n      };\n      console.log('發送更新數據:', updateData); // 調試用\n\n      const response = await axios.put(`http://localhost:5000/api/update_news/${id}`, updateData);\n      if (response.data.success) {\n        fetchNews();\n        setEditingItem(null);\n        setResponseMessage('更新成功');\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('更新新聞失敗:', error);\n      setResponseMessage('更新失敗：' + (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || '未知錯誤'));\n    }\n  };\n\n  // 刪除新聞\n  const handleDelete = async id => {\n    if (window.confirm('確定要刪除這則新聞嗎？')) {\n      try {\n        setResponseMessage(''); // 清除之前的消息\n\n        console.log('嘗試刪除新聞 ID:', id); // 調試用\n\n        const response = await axios.delete(`http://localhost:5000/api/delete_news/${id}`);\n        if (response.data.success) {\n          console.log('刪除成功');\n          setResponseMessage('刪除成功');\n          await fetchNews(); // 重新獲取新聞列表\n        } else {\n          throw new Error(response.data.message || '刪除失敗');\n        }\n      } catch (error) {\n        var _error$response4, _error$response4$data;\n        console.error('刪除新聞失敗:', error);\n        setResponseMessage('刪除失敗：' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || '未知錯誤'));\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u8F09\\u5165\\u4E2D...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 25\n  }, this);\n\n  // 將新聞分類\n  const publishedNews = newsData.filter(news => news.Status === 1);\n  const unpublishedNews = newsData.filter(news => news.Status === 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"news-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `news-form ${isFormExpanded ? 'expanded' : 'collapsed'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `news-form-header${!isFormExpanded ? 'test' : 'collapsed'}`,\n        onClick: () => setIsFormExpanded(!isFormExpanded),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u65B0\\u589E\\u6D88\\u606F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n          className: `toggle-icon ${isFormExpanded ? 'rotated' : ''}`,\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `news-form-content ${isFormExpanded ? 'visible' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u6A19\\u984C\",\n          value: newItem.title,\n          onChange: e => setNewItem({\n            ...newItem,\n            title: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"\\u5167\\u5BB9\",\n          value: newItem.content,\n          onChange: e => setNewItem({\n            ...newItem,\n            content: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"publish-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: newItem.immediatePublish,\n              onChange: e => setNewItem({\n                ...newItem,\n                immediatePublish: e.target.checked,\n                status: e.target.checked ? 1 : 0\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this), \"\\u7ACB\\u5373\\u767C\\u5E03\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), !newItem.immediatePublish && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-time-picker\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: newItem.publishDate,\n              onChange: e => setNewItem({\n                ...newItem,\n                publishDate: e.target.value\n              }),\n              min: new Date().toISOString().slice(0, 16)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAdd,\n          className: \"add-button\",\n          children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this), \"\\u65B0\\u589E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), responseMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"response-message\",\n        children: responseMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-ReleaseOrNot\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u767C\\u5E03\\u4E2D\\u7684\\u65B0\\u805E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-list\",\n          children: publishedNews.map(item => /*#__PURE__*/_jsxDEV(NewsItem, {\n            item: item,\n            onEdit: setEditingItem,\n            onUpdate: handleUpdate,\n            onDelete: handleDelete,\n            editingItem: editingItem,\n            setEditingItem: setEditingItem\n          }, item.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u672A\\u767C\\u5E03\\u7684\\u65B0\\u805E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-list\",\n          children: unpublishedNews.map(item => /*#__PURE__*/_jsxDEV(NewsItem, {\n            item: item,\n            onEdit: setEditingItem,\n            onUpdate: handleUpdate,\n            onDelete: handleDelete,\n            editingItem: editingItem,\n            setEditingItem: setEditingItem\n          }, item.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, this);\n};\n\n// 新聞項目組件\n_s(NewsManager, \"ON7dXB81w2O9PIpnSySOfGTP5K4=\");\n_c = NewsManager;\nconst NewsItem = ({\n  item,\n  onEdit,\n  onUpdate,\n  onDelete,\n  editingItem,\n  setEditingItem\n}) => {\n  _s2();\n  const isEditing = (editingItem === null || editingItem === void 0 ? void 0 : editingItem.Id) === item.Id;\n  const [deleting, setDeleting] = useState(false);\n  const handleDateChange = e => {\n    const dateValue = e.target.value;\n    setEditingItem({\n      ...editingItem,\n      Publish_Date: dateValue ? new Date(dateValue).toISOString() : null\n    });\n  };\n  const handleDeleteClick = async id => {\n    setDeleting(true);\n    try {\n      await onDelete(id);\n    } finally {\n      setDeleting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `news-item ${item.Status === 0 ? 'unpublished' : ''} ${deleting ? 'deleting' : ''}`,\n    children: isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editingItem.Title,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Title: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: editingItem.Content,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Content: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"datetime-local\",\n        value: editingItem.Publish_Date ? new Date(editingItem.Publish_Date).toISOString().slice(0, 16) : '',\n        onChange: handleDateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: editingItem.Status,\n        onChange: e => setEditingItem({\n          ...editingItem,\n          Status: parseInt(e.target.value)\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 1,\n          children: \"\\u767C\\u5E03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 0,\n          children: \"\\u672A\\u767C\\u5E03\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onUpdate(item.Id),\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 29\n          }, this), \"\\u4FDD\\u5B58\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditingItem(null),\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this), \"\\u53D6\\u6D88\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"news-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: item.Title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.Content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"news-date\",\n        children: [\"\\u767C\\u5E03\\u6642\\u9593: \", new Date(item.Publish_Date).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onEdit(item),\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 29\n          }, this), \"\\u7DE8\\u8F2F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteClick(item.Id),\n          disabled: deleting,\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this), deleting ? '刪除中...' : '刪除']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 9\n  }, this);\n};\n_s2(NewsItem, \"f0tXCDL9Pnb+NA85nybi4v05dyY=\");\n_c2 = NewsItem;\nexport default NewsManager;\nvar _c, _c2;\n$RefreshReg$(_c, \"NewsManager\");\n$RefreshReg$(_c2, \"NewsItem\");","map":{"version":3,"names":["React","useState","useEffect","PlusCircle","Edit","Trash2","Save","X","ChevronDown","axios","jsxDEV","_jsxDEV","NewsManager","_s","isFormExpanded","setIsFormExpanded","newsData","setNewsData","editingItem","setEditingItem","responseMessage","setResponseMessage","loading","setLoading","newItem","setNewItem","title","content","publishDate","Date","toISOString","split","status","immediatePublish","fetchNews","response","get","data","Array","isArray","news","error","_error$response","_error$response$data","console","handleAdd","log","post","success","_error$response2","_error$response2$data","message","handleUpdate","id","formattedDate","Publish_Date","updateData","Title","Content","Status","put","_error$response3","_error$response3$data","handleDelete","window","confirm","delete","Error","_error$response4","_error$response4$data","children","fileName","_jsxFileName","lineNumber","columnNumber","publishedNews","filter","unpublishedNews","className","onClick","size","type","placeholder","value","onChange","e","target","required","checked","min","slice","map","item","NewsItem","onEdit","onUpdate","onDelete","Id","_c","_s2","isEditing","deleting","setDeleting","handleDateChange","dateValue","handleDeleteClick","parseInt","toLocaleString","disabled","_c2","$RefreshReg$"],"sources":["C:/類D槽/Python/StockWeb/webtest/src/pages/Page1/HomeData/components/NewsManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PlusCircle, Edit, Trash2, Save, X ,ChevronDown} from 'lucide-react';\r\nimport './NewsManager.css';\r\nimport axios from 'axios';\r\n\r\nconst NewsManager = () => {\r\n    const [isFormExpanded, setIsFormExpanded] = useState(false);\r\n    const [newsData, setNewsData] = useState([]);\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [responseMessage, setResponseMessage] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [newItem, setNewItem] = useState({\r\n        title: '',\r\n        content: '',\r\n        publishDate: new Date().toISOString().split('T')[0],\r\n        status: 1,  // 1: 發布, 0: 未發布\r\n        immediatePublish: true  // 是否立即發布\r\n    });\r\n\r\n    // 獲取新聞列表\r\n    const fetchNews = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/api/get_HomeNews');\r\n            if (response.data && Array.isArray(response.data.news)) {\r\n                setNewsData(response.data.news);\r\n            } else {\r\n                setResponseMessage('數據格式不正確');\r\n            }\r\n        } catch (error) {\r\n            console.error('獲取新聞錯誤:', error);\r\n            setResponseMessage(error.response?.data?.error || '無法取得資料');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNews();\r\n    }, []);\r\n\r\n// 新增新聞\r\nconst handleAdd = async () => {\r\n    try {\r\n        // 驗證必填欄位\r\n        if (!newItem.title || !newItem.content) {\r\n            setResponseMessage('標題和內容為必填項目');\r\n            return;\r\n        }\r\n\r\n        let publishDate;\r\n        if (newItem.immediatePublish) {\r\n            publishDate = new Date().toISOString();\r\n        } else {\r\n            // 確保選擇了日期\r\n            if (!newItem.publishDate) {\r\n                setResponseMessage('請選擇發布日期');\r\n                return;\r\n            }\r\n            // 將日期字符串轉換為完整的 ISO 格式\r\n            publishDate = new Date(newItem.publishDate).toISOString();\r\n        }\r\n\r\n        const newsData = {\r\n            title: newItem.title,\r\n            content: newItem.content,\r\n            publishDate: publishDate,\r\n            status: newItem.immediatePublish ? 1 : 0\r\n        };\r\n\r\n        console.log('準備發送的新聞數據:', newsData); // 調試用\r\n\r\n        const response = await axios.post('http://localhost:5000/api/add_news', newsData);\r\n        if (response.data.success) {\r\n            fetchNews();  // 重新獲取新聞列表\r\n            setNewItem({  // 重置表單\r\n                title: '',\r\n                content: '',\r\n                publishDate: new Date().toISOString().split('T')[0],\r\n                status: 1,\r\n                immediatePublish: true\r\n            });\r\n            setResponseMessage('新增成功');\r\n        }\r\n    } catch (error) {\r\n        console.error('新增新聞失敗:', error);\r\n        setResponseMessage('新增失敗：' + (error.response?.data?.message || '未知錯誤'));\r\n    }\r\n};\r\n\r\n    const handleUpdate = async (id) => {\r\n        try {\r\n            // 確保日期格式正確\r\n            const formattedDate = editingItem.Publish_Date \r\n                ? new Date(editingItem.Publish_Date).toISOString()\r\n                : new Date().toISOString();\r\n    \r\n            const updateData = {\r\n                Title: editingItem.Title,\r\n                Content: editingItem.Content,\r\n                Publish_Date: formattedDate,\r\n                Status: editingItem.Status || 1\r\n            };\r\n    \r\n            console.log('發送更新數據:', updateData);  // 調試用\r\n    \r\n            const response = await axios.put(\r\n                `http://localhost:5000/api/update_news/${id}`, \r\n                updateData\r\n            );\r\n    \r\n            if (response.data.success) {\r\n                fetchNews();\r\n                setEditingItem(null);\r\n                setResponseMessage('更新成功');\r\n            }\r\n        } catch (error) {\r\n            console.error('更新新聞失敗:', error);\r\n            setResponseMessage('更新失敗：' + (error.response?.data?.message || '未知錯誤'));\r\n        }\r\n    };\r\n\r\n// 刪除新聞\r\nconst handleDelete = async (id) => {\r\n    if (window.confirm('確定要刪除這則新聞嗎？')) {\r\n        try {\r\n            setResponseMessage(''); // 清除之前的消息\r\n            \r\n            console.log('嘗試刪除新聞 ID:', id); // 調試用\r\n            \r\n            const response = await axios.delete(`http://localhost:5000/api/delete_news/${id}`);\r\n            \r\n            if (response.data.success) {\r\n                console.log('刪除成功');\r\n                setResponseMessage('刪除成功');\r\n                await fetchNews(); // 重新獲取新聞列表\r\n            } else {\r\n                throw new Error(response.data.message || '刪除失敗');\r\n            }\r\n        } catch (error) {\r\n            console.error('刪除新聞失敗:', error);\r\n            setResponseMessage(\r\n                '刪除失敗：' + \r\n                (error.response?.data?.message || error.message || '未知錯誤')\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n    if (loading) return <div>載入中...</div>;\r\n\r\n    // 將新聞分類\r\n    const publishedNews = newsData.filter(news => news.Status === 1);\r\n    const unpublishedNews = newsData.filter(news => news.Status === 0);\r\n\r\n\r\n    return (\r\n        <div className=\"news-manager\">\r\n            <div className={`news-form ${isFormExpanded ? 'expanded' : 'collapsed'}`}>\r\n                <div \r\n                    className={`news-form-header${!isFormExpanded ? 'test' : 'collapsed'}`}\r\n                    onClick={() => setIsFormExpanded(!isFormExpanded)}\r\n                >\r\n                    <h3>新增消息</h3>\r\n                    <ChevronDown \r\n                        className={`toggle-icon ${isFormExpanded ? 'rotated' : ''}`}\r\n                        size={20}\r\n                    />\r\n                </div>\r\n                \r\n                <div className={`news-form-content ${isFormExpanded ? 'visible' : ''}`}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"標題\"\r\n                        value={newItem.title}\r\n                        onChange={(e) => setNewItem({...newItem, title: e.target.value})}\r\n                        required\r\n                    />\r\n                    <textarea\r\n                        placeholder=\"內容\"\r\n                        value={newItem.content}\r\n                        onChange={(e) => setNewItem({...newItem, content: e.target.value})}\r\n                        required\r\n                    />\r\n                    <div className=\"publish-options\">\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={newItem.immediatePublish}\r\n                                onChange={(e) => setNewItem({\r\n                                    ...newItem,\r\n                                    immediatePublish: e.target.checked,\r\n                                    status: e.target.checked ? 1 : 0\r\n                                })}\r\n                            />\r\n                            立即發布\r\n                        </label>\r\n                        {!newItem.immediatePublish && (\r\n                            <div className=\"date-time-picker\">\r\n                                <input\r\n                                    type=\"datetime-local\"\r\n                                    value={newItem.publishDate}\r\n                                    onChange={(e) => setNewItem({\r\n                                        ...newItem,\r\n                                        publishDate: e.target.value\r\n                                    })}\r\n                                    min={new Date().toISOString().slice(0, 16)}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <button onClick={handleAdd} className=\"add-button\">\r\n                        <PlusCircle size={16} />\r\n                        新增\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n    {responseMessage && (\r\n                <div className='response-container'>\r\n                    <div className=\"response-message\">\r\n                        {responseMessage}\r\n                    </div>\r\n                </div>\r\n    )}\r\n\r\n\r\n            <div className='news-ReleaseOrNot'>\r\n                {/* 發布中的新聞 */}\r\n                <div className=\"news-section\">\r\n                    <h3>發布中的新聞</h3>\r\n                    <div className=\"news-list\">\r\n                        {publishedNews.map(item => (\r\n                            <NewsItem\r\n                                key={item.Id}\r\n                                item={item}\r\n                                onEdit={setEditingItem}\r\n                                onUpdate={handleUpdate}\r\n                                onDelete={handleDelete}\r\n                                editingItem={editingItem}\r\n                                setEditingItem={setEditingItem}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* 未發布的新聞 */}\r\n                <div className=\"news-section\">\r\n                    <h3>未發布的新聞</h3>\r\n                    <div className=\"news-list\">\r\n                        {unpublishedNews.map(item => (\r\n                            <NewsItem\r\n                                key={item.Id}\r\n                                item={item}\r\n                                onEdit={setEditingItem}\r\n                                onUpdate={handleUpdate}\r\n                                onDelete={handleDelete}\r\n                                editingItem={editingItem}\r\n                                setEditingItem={setEditingItem}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\n// 新聞項目組件\r\nconst NewsItem = ({ item, onEdit, onUpdate, onDelete, editingItem, setEditingItem }) => {\r\n    const isEditing = editingItem?.Id === item.Id;\r\n    const [deleting, setDeleting] = useState(false);\r\n\r\n    const handleDateChange = (e) => {\r\n        const dateValue = e.target.value;\r\n        setEditingItem({\r\n            ...editingItem,\r\n            Publish_Date: dateValue ? new Date(dateValue).toISOString() : null\r\n        });\r\n    };\r\n    const handleDeleteClick = async (id) => {\r\n        setDeleting(true);\r\n        try {\r\n            await onDelete(id);\r\n        } finally {\r\n            setDeleting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`news-item ${item.Status === 0 ? 'unpublished' : ''} ${deleting ? 'deleting' : ''}`}>\r\n            {isEditing ? (\r\n                <div className=\"news-edit-form\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={editingItem.Title}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Title: e.target.value\r\n                        })}\r\n                    />\r\n                    <textarea\r\n                        value={editingItem.Content}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Content: e.target.value\r\n                        })}\r\n                    />\r\n                    <input\r\n                        type=\"datetime-local\"\r\n                        value={editingItem.Publish_Date \r\n                            ? new Date(editingItem.Publish_Date).toISOString().slice(0, 16)\r\n                            : ''\r\n                        }\r\n                        onChange={handleDateChange}\r\n                    />\r\n                    <select\r\n                        value={editingItem.Status}\r\n                        onChange={(e) => setEditingItem({\r\n                            ...editingItem,\r\n                            Status: parseInt(e.target.value)\r\n                        })}\r\n                    >\r\n                        <option value={1}>發布</option>\r\n                        <option value={0}>未發布</option>\r\n                    </select>\r\n                    <div className=\"button-group\">\r\n                        <button onClick={() => onUpdate(item.Id)}>\r\n                            <Save size={16} />\r\n                            保存\r\n                        </button>\r\n                        <button onClick={() => setEditingItem(null)}>\r\n                            <X size={16} />\r\n                            取消\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"news-content\">\r\n                    <h4>{item.Title}</h4>\r\n                    <p>{item.Content}</p>\r\n                    <p className=\"news-date\">\r\n                        發布時間: {new Date(item.Publish_Date).toLocaleString()}\r\n                    </p>\r\n                    <div className=\"button-group\">\r\n                        <button onClick={() => onEdit(item)}>\r\n                            <Edit size={16} />\r\n                            編輯\r\n                        </button>\r\n                        <button \r\n                            onClick={() => handleDeleteClick(item.Id)}\r\n                            disabled={deleting}\r\n                        >\r\n                            <Trash2 size={16} />\r\n                            {deleting ? '刪除中...' : '刪除'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewsManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}